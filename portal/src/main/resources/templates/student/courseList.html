<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/student_layout}">

<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>

<body>
	<!-- student.layout body에 들어갈 이름명시 script부분도 여기 안에서 있어야함.  -->
	<th:block layout:fragment="studentContent">
		<div id="main" class="page-title">
			<h3>나의 수강과목</h3>
			<hr>

			<!-- 수강중인 강의 리스트가 없는 경우 -->
			<div th:if="${mycourseList.isEmpty()}">
				<div class="card height-five">
					<div class="card-body no-content">
						<h4>수강중인 강의가 없습니다.</h4>
					</div>
				</div>
			</div>

			<!-- 수강중인 강의 리스트가 있는 경우 -->
			<div th:unless="${mycourseList.isEmpty()}">
			
				<form name="searchForm">
					<label>년도</label>	
						<select id="searchYear" name="searchYear" class="form-select width-one inline">
							<option value="">--</option>
							<option 
							th:each="year : ${year}" th:value="${year.courseYear}" 
							th:text="${year.courseYear}"
							th:selected="${searchYear == year.searchYear}"></option>
						</select> 		
					
						<label>학기</label>
						<select id="searchSemester" name="searchSemester" class="form-select width-one inline">
							<option value="">--</option>
							<option 
							th:each="semester : ${semester}" th:value="${semester.courseSemester}"
							th:text="${semester.courseSemester}"
							th:selected="${searchSemester == semester.searchSemester}"></option>
						</select>  
						
						<button type="submit" class="saveBtn btn btn-primary me-1 mb-1" >검색</button>
							<div class="divider">
						<div class="divider-text">
						<!-- 여기 년도 학기 세션값 가져와서 출력 해야함.  -->
							<th:block>
							 	[[${session.year}]]년-[[${session.semester}]]학기 수강과목
							 </th:block>
						</div>
					</div>
						
					
					</form>
			
				<div class="grid-container">
					<div th:each="mycourse, idx : ${mycourseList}">
						<div class="grid-item">
							<div class="card"
								th:onclick="|location.href='@{/student/eclass/{courseCode}(courseCode=${mycourse.courseCode})}'|">
								<div class="card-body">
									<h5 class="card-title">강의명 :</h5>
									<p th:text="${mycourse.courseName}"></p>
									<h5 class="card-title">교수명 :</h5>
									<p th:text="${mycourse.professorName}"></p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<script th:inline="javascript">
			
		</script>

	</th:block>
</body>
</html>